{"ast":null,"code":"import React,{useRef,useState,useEffect}from'react';import{initializeApp}from'firebase/app';import{getDatabase,ref,onValue,set}from'firebase/database';import'bootstrap/dist/css/bootstrap.min.css';import'./App.css';// Firebase configuration\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const firebaseConfig={apiKey:\"AIzaSyBiuWoeQqVko2Mqn0qyu49mMAreYlPRbu0\",authDomain:\"schoolbus-led.firebaseapp.com\",databaseURL:\"https://item-finder-dc65b-default-rtdb.asia-southeast1.firebasedatabase.app/\",projectId:\"item-finder-dc65b\",storageBucket:\"item-finder-dc65b.appspot.com\",messagingSenderId:\"928252308497\",appId:\"YOUR_APP_ID\"// Replace with your app ID from Firebase project settings\n};// Initialize Firebase\nconst app=initializeApp(firebaseConfig);const database=getDatabase(app);const userPaths={\"member1@gmail.com\":{rfidReaderPath:'rfid-reader',path:'find-aisle'},\"member2@gmail.com\":{rfidReaderPath:'rfid-reader2',path:'find-aisle2'}};function App(){const[isLoggedIn,setIsLoggedIn]=useState(false);const[username,setUsername]=useState('');const[startingAisle,setStartingAisle]=useState('');const[selectedItem,setSelectedItem]=useState('');const[showDropdown,setShowDropdown]=useState(false);const canvasRef=useRef(null);const aisleRefs=useRef({});const users={\"member1@gmail.com\":\"member1@gmail.com\",// Replace with actual passwords\n\"member2@gmail.com\":\"member2@gmail.com\"};const handleLogin=e=>{e.preventDefault();const formData=new FormData(e.target);const username=formData.get('username');const password=formData.get('password');// Validate the credentials\nif(users[username]&&users[username]===password){setIsLoggedIn(true);setUsername(username);// Store login state in local storage\nlocalStorage.setItem('isLoggedIn','true');localStorage.setItem('username',username);const userPath=userPaths[username];if(userPath){const userRef=ref(database,'current-user');set(userRef,username);}}else{alert('Invalid username or password. Please try again.');}};const handleLogout=()=>{setIsLoggedIn(false);setUsername('');// Clear local storage\nlocalStorage.removeItem('isLoggedIn');localStorage.removeItem('username');const userRef=ref(database,'current-user');set(userRef,'');};useEffect(()=>{// Check local storage for login state on component mount\nconst loggedIn=localStorage.getItem('isLoggedIn')==='true';const storedUsername=localStorage.getItem('username');if(loggedIn&&storedUsername){setIsLoggedIn(true);setUsername(storedUsername);}},[]);useEffect(()=>{if(isLoggedIn){const userPath=userPaths[username];if(userPath){const rfidRef=ref(database,userPath.rfidReaderPath);const rfidUnsubscribe=onValue(rfidRef,snapshot=>{const readerData=snapshot.val();if(readerData){setStartingAisle(readerData);setShowDropdown(true);}});return()=>{rfidUnsubscribe();};}}},[isLoggedIn,username]);useEffect(()=>{if(startingAisle&&selectedItem&&canvasRef.current){drawPath();}else{clearPath();}},[startingAisle,selectedItem]);useEffect(()=>{// Function to handle Firebase updates\nconst updateAislePath=path=>{const pathRef=ref(database,path);// Set the path to 'ON' for 4 seconds\nset(pathRef,'ON');// // After 4 seconds, set it to 'OFF' for 1 second\n// setTimeout(() => {\n//   set(pathRef, 'OFF');\n//   // After 1 second, reset the path to 'IDLE' (or any neutral state)\n//   setTimeout(() => {\n//     set(pathRef, 'IDLE'); // or 'IDLE'\n//   }, 0.0001); // Delay before resetting to 'IDLE'\n// }, 10000); // ON for 4 seconds\n};if(selectedItem==='1.1'){console.log('Apples selected');updateAislePath('aisle1_1');}else if(selectedItem==='1.2'){console.log('1.2 selected');updateAislePath('aisle1_2');}else if(selectedItem==='1.3'){console.log('1.3 selected');updateAislePath('aisle1_3');}else if(selectedItem==='2.1'){console.log('2.1 selected');updateAislePath('aisle2_1');}else if(selectedItem==='2.2'){console.log('2.2 selected');updateAislePath('aisle2_2');}else if(selectedItem==='2.3'){console.log('2.3 selected');updateAislePath('aisle2_3');}else if(selectedItem==='3.1'){console.log('3.1 selected');updateAislePath('aisle3_1');}else if(selectedItem==='3.2'){console.log('3.2 selected');updateAislePath('aisle3_2');}else if(selectedItem==='3.3'){console.log('3.3 selected');updateAislePath('aisle3_3');}},[selectedItem]);const drawPath=()=>{const canvas=canvasRef.current;const ctx=canvas.getContext('2d');const supermarket=document.getElementById('supermarket');const aisleElement=aisleRefs.current[startingAisle];const itemElement=document.getElementById(`item${selectedItem.replace('.','-')}`);if(!canvas||!ctx||!aisleElement||!itemElement)return;ctx.clearRect(0,0,canvas.width,canvas.height);const aisleRect=aisleElement.getBoundingClientRect();const itemRect=itemElement.getBoundingClientRect();const supermarketRect=supermarket.getBoundingClientRect();const aisleX=aisleRect.left-supermarketRect.left+aisleElement.offsetWidth/2;const aisleY=aisleRect.top-supermarketRect.top+aisleElement.offsetHeight/2;const itemX=itemRect.left-supermarketRect.left+itemElement.offsetWidth/2;const itemY=itemRect.top-supermarketRect.top+itemElement.offsetHeight/2;// Determine if the device is a phone or PC\nconst isPhone=window.innerWidth<=768;// Consider screens less than or equal to 768px width as phones\nlet aislePadding=isPhone?140:180;// Default padding for phone or PC\n// Determine the aisle numbers\nconst startingAisleNumber=parseInt(startingAisle);const targetAisleNumber=parseInt(selectedItem.match(/\\d+/)[0]);// If moving between aisle 1 and 3, adjust padding for PC and phone\nif(startingAisleNumber===1&&targetAisleNumber===3||startingAisleNumber===3&&targetAisleNumber===1){aislePadding=isPhone?270:390;}ctx.beginPath();ctx.moveTo(aisleX,aisleY);// Start at the starting aisle\n// Draw label \"Reader 1\", \"Reader 2\", or \"Reader 3\" based on the aisle\nctx.font='16px Arial';ctx.fillStyle='#000';// Text color\nif(startingAisleNumber===1){ctx.fillText('Reader 1',aisleX-20,aisleY-10);}else if(startingAisleNumber===2){ctx.fillText('Reader 2',aisleX-20,aisleY-10);}else if(startingAisleNumber===3){ctx.fillText('Reader 3',aisleX-20,aisleY-10);}// If the item is in the same aisle (i.e., similar X coordinates), move straight\nif(Math.abs(itemX-aisleX)<98){// Draw a straight line vertically to the item\nctx.lineTo(itemX,itemY);}else{// If the item is not in the same aisle, move around the aisles\nif(itemX>aisleX){// Move horizontally to the right\nctx.lineTo(aisleX+aislePadding,aisleY);// Horizontal move to the right\nctx.lineTo(aisleX+aislePadding,itemY);// Vertical move down/up\n}else{// Move horizontally to the left\nctx.lineTo(aisleX-aislePadding,aisleY);// Horizontal move to the left\nctx.lineTo(aisleX-aislePadding,itemY);// Vertical move down/up\n}// Finally, move horizontally to the item\nctx.lineTo(itemX,itemY);}ctx.strokeStyle='#28a745';// Green line color\nctx.lineWidth=3;ctx.stroke();};const clearPath=()=>{const canvas=canvasRef.current;const ctx=canvas===null||canvas===void 0?void 0:canvas.getContext('2d');if(!canvas||!ctx)return;ctx.clearRect(0,0,canvas.width,canvas.height);};const handleFindItem=()=>{if(selectedItem){const aislePath=`aisle${selectedItem.replace('.','_')}`;const pathRef=ref(database,aislePath);// Set the aisle to 'OFF'\nset(pathRef,'OFF').then(()=>{// Draw the path after setting the value to 'OFF'\ndrawPath();}).catch(error=>{console.error(\"Error updating Firebase:\",error);});}};const handleReadStartingAisle=()=>{const userPath=userPaths[username];if(userPath){const rfidRef=ref(database,userPath.rfidReaderPath);onValue(rfidRef,snapshot=>{const readerData=snapshot.val();if(readerData){setStartingAisle(readerData);setShowDropdown(false);const pathRef=ref(database,userPath.path);set(pathRef,'YES');}});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[!isLoggedIn&&/*#__PURE__*/// Only show header if not logged in\n_jsxs(\"header\",{className:\"text-center mb-4\",style:{marginTop:'7%'},children:[/*#__PURE__*/_jsx(\"img\",{src:`${process.env.PUBLIC_URL}/logo512.png`,alt:\"EasyMart MALL Logo\",style:{width:'150px'}}),/*#__PURE__*/_jsx(\"h1\",{children:\"EasyMart MALL Navigation\"})]}),!isLoggedIn?/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center min-vh-100\",children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'90%',width:'90%',marginTop:window.innerWidth<768?'-90%':'-30%'},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"login-username\",className:\"form-label\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"login-username\",name:\"username\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"login-password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"login-password\",name:\"password\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary w-100\",children:\"Login\"})]})]})}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:handleLogout,children:\"Logout\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome, \",username]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Find Your Item\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"starting-aisle\",children:\"Select Starting Aisle:\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"starting-aisle\",value:startingAisle,readOnly:true,placeholder:\"Select Starting Aisle\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleReadStartingAisle,children:\"Read Starting Aisle\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"item-selector\",children:\"Select Item:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"item-selector\",value:selectedItem,onChange:e=>setSelectedItem(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select an item\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1.1\",children:\"Aisle 1, Apples\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1.2\",children:\"Aisle 1, Bananas\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1.3\",children:\"Aisle 1, Oranges\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2.1\",children:\"Aisle 2, Bread\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2.2\",children:\"Aisle 2, Milk\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2.3\",children:\"Aisle 2, Cheese\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3.1\",children:\"Aisle 3, Shampoo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3.2\",children:\"Aisle 3, Soap\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3.3\",children:\"Aisle 3, Toothpaste\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary ms-2\",style:{height:'27px',padding:'0 10px'}// Adjust height and padding\n,onClick:()=>setSelectedItem(''),children:\"Reset\"})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"supermarket\",class:\"supermarket\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"aisle1\",className:\"aisle\",ref:el=>aisleRefs.current['1']=el,style:{backgroundColor:'#f4f4f4',position:'relative'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"item\",style:{top:'20px',left:'20px'},id:\"item1-1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"item\",style:{top:'100px',left:'20px'},id:\"item1-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"item\",style:{top:'180px',left:'20px'},id:\"item1-3\"})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"aisle2\",className:\"aisle\",ref:el=>aisleRefs.current['2']=el,style:{backgroundColor:'#f4f4f4',position:'relative'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"item\",style:{top:'20px',left:'20px'},id:\"item2-1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"item\",style:{top:'100px',left:'20px'},id:\"item2-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"item\",style:{top:'180px',left:'20px'},id:\"item2-3\"})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"aisle3\",className:\"aisle\",ref:el=>aisleRefs.current['3']=el,style:{backgroundColor:'#f4f4f4',position:'relative'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"item\",style:{top:'20px',left:'20px'},id:\"item3-1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"item\",style:{top:'100px',left:'20px'},id:\"item3-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"item\",style:{top:'180px',left:'20px'},id:\"item3-3\"})]}),/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,width:\"600\",height:\"400\",style:{position:'absolute',top:0,left:0,pointerEvents:'none'}})]})]}),/*#__PURE__*/_jsx(\"style\",{jsx:true,children:`\n        @media only screen and (max-width: 768px) {\n          canvas.canvastest {\n            width: 380px !important;\n          }\n        }\n      `})]});}export default App;","map":{"version":3,"names":["React","useRef","useState","useEffect","initializeApp","getDatabase","ref","onValue","set","jsx","_jsx","jsxs","_jsxs","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","app","database","userPaths","rfidReaderPath","path","App","isLoggedIn","setIsLoggedIn","username","setUsername","startingAisle","setStartingAisle","selectedItem","setSelectedItem","showDropdown","setShowDropdown","canvasRef","aisleRefs","users","handleLogin","e","preventDefault","formData","FormData","target","get","password","localStorage","setItem","userPath","userRef","alert","handleLogout","removeItem","loggedIn","getItem","storedUsername","rfidRef","rfidUnsubscribe","snapshot","readerData","val","current","drawPath","clearPath","updateAislePath","pathRef","console","log","canvas","ctx","getContext","supermarket","document","getElementById","aisleElement","itemElement","replace","clearRect","width","height","aisleRect","getBoundingClientRect","itemRect","supermarketRect","aisleX","left","offsetWidth","aisleY","top","offsetHeight","itemX","itemY","isPhone","window","innerWidth","aislePadding","startingAisleNumber","parseInt","targetAisleNumber","match","beginPath","moveTo","font","fillStyle","fillText","Math","abs","lineTo","strokeStyle","lineWidth","stroke","handleFindItem","aislePath","then","catch","error","handleReadStartingAisle","className","children","style","marginTop","src","process","env","PUBLIC_URL","alt","maxWidth","onSubmit","htmlFor","type","id","name","required","onClick","value","readOnly","placeholder","onChange","padding","class","el","backgroundColor","position","pointerEvents"],"sources":["C:/Users/User/Documents/code/itemfinder_deploy_v3/supermarket-finder/src/App.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getDatabase, ref, onValue, set } from 'firebase/database';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\n\n// Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBiuWoeQqVko2Mqn0qyu49mMAreYlPRbu0\",\n  authDomain: \"schoolbus-led.firebaseapp.com\",\n  databaseURL: \"https://item-finder-dc65b-default-rtdb.asia-southeast1.firebasedatabase.app/\",\n  projectId: \"item-finder-dc65b\",\n  storageBucket: \"item-finder-dc65b.appspot.com\",\n  messagingSenderId: \"928252308497\",\n  appId: \"YOUR_APP_ID\" // Replace with your app ID from Firebase project settings\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst database = getDatabase(app);\n\nconst userPaths = {\n  \"member1@gmail.com\": {\n    rfidReaderPath: 'rfid-reader',\n    path: 'find-aisle'\n  },\n  \"member2@gmail.com\": {\n    rfidReaderPath: 'rfid-reader2',\n    path: 'find-aisle2'\n  }\n};\n\nfunction App() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [username, setUsername] = useState('');\n  const [startingAisle, setStartingAisle] = useState('');\n  const [selectedItem, setSelectedItem] = useState('');\n  const [showDropdown, setShowDropdown] = useState(false);\n  const canvasRef = useRef(null);\n  const aisleRefs = useRef({});\n\n  const users = {\n    \"member1@gmail.com\": \"member1@gmail.com\", // Replace with actual passwords\n    \"member2@gmail.com\": \"member2@gmail.com\"\n  };\n  \n  const handleLogin = (e) => {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    const username = formData.get('username');\n    const password = formData.get('password');\n\n  // Validate the credentials\n  if (users[username] && users[username] === password) {\n    setIsLoggedIn(true);\n    setUsername(username);\n\n     \n      // Store login state in local storage\n      localStorage.setItem('isLoggedIn', 'true');\n      localStorage.setItem('username', username);\n\n    const userPath = userPaths[username];\n    if (userPath) {\n      const userRef = ref(database, 'current-user');\n      set(userRef, username);\n    }\n  } else {\n    alert('Invalid username or password. Please try again.');\n  }\n};\n\n  const handleLogout = () => {\n    setIsLoggedIn(false);\n    setUsername('');\n\n\n    // Clear local storage\n    localStorage.removeItem('isLoggedIn');\n    localStorage.removeItem('username');\n\n    const userRef = ref(database, 'current-user');\n    set(userRef, '');\n  };\n\n\n\n  useEffect(() => {\n    // Check local storage for login state on component mount\n    const loggedIn = localStorage.getItem('isLoggedIn') === 'true';\n    const storedUsername = localStorage.getItem('username');\n\n    if (loggedIn && storedUsername) {\n      setIsLoggedIn(true);\n      setUsername(storedUsername);\n    }\n  }, []);\n\n\n  useEffect(() => {\n    if (isLoggedIn) {\n      const userPath = userPaths[username];\n      if (userPath) {\n        const rfidRef = ref(database, userPath.rfidReaderPath);\n\n        const rfidUnsubscribe = onValue(rfidRef, (snapshot) => {\n          const readerData = snapshot.val();\n          if (readerData) {\n            setStartingAisle(readerData);\n            setShowDropdown(true);\n          }\n        });\n\n        return () => {\n          rfidUnsubscribe();\n        };\n      }\n    }\n  }, [isLoggedIn, username]);\n\n\n  useEffect(() => {\n    if (startingAisle && selectedItem && canvasRef.current) {\n      drawPath();\n    } else {\n      clearPath();\n    }\n  }, [startingAisle, selectedItem]);\n  useEffect(() => {\n    // Function to handle Firebase updates\n    const updateAislePath = (path) => {\n      const pathRef = ref(database, path);\n      \n      // Set the path to 'ON' for 4 seconds\n      set(pathRef, 'ON');\n      \n      // // After 4 seconds, set it to 'OFF' for 1 second\n      // setTimeout(() => {\n      //   set(pathRef, 'OFF');\n        \n      //   // After 1 second, reset the path to 'IDLE' (or any neutral state)\n      //   setTimeout(() => {\n      //     set(pathRef, 'IDLE'); // or 'IDLE'\n      //   }, 0.0001); // Delay before resetting to 'IDLE'\n      // }, 10000); // ON for 4 seconds\n    };\n  \n    if (selectedItem === '1.1') {\n      console.log('Apples selected');\n      updateAislePath('aisle1_1');\n    } else if (selectedItem === '1.2') {\n      console.log('1.2 selected');\n      updateAislePath('aisle1_2');\n    }else if (selectedItem === '1.3') {\n      console.log('1.3 selected');\n      updateAislePath('aisle1_3');\n    }else if (selectedItem === '2.1') {\n      console.log('2.1 selected');\n      updateAislePath('aisle2_1');\n    }else if (selectedItem === '2.2') {\n      console.log('2.2 selected');\n      updateAislePath('aisle2_2');\n    }else if (selectedItem === '2.3') {\n      console.log('2.3 selected');\n      updateAislePath('aisle2_3');\n    }\n    else if (selectedItem === '3.1') {\n      console.log('3.1 selected');\n      updateAislePath('aisle3_1');\n    }else if (selectedItem === '3.2') {\n      console.log('3.2 selected');\n      updateAislePath('aisle3_2');\n    }else if (selectedItem === '3.3') {\n      console.log('3.3 selected');\n      updateAislePath('aisle3_3');\n    }\n  }, [selectedItem]);\n  const drawPath = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const supermarket = document.getElementById('supermarket');\n    const aisleElement = aisleRefs.current[startingAisle];\n    const itemElement = document.getElementById(`item${selectedItem.replace('.', '-')}`);\n\n    if (!canvas || !ctx || !aisleElement || !itemElement) return;\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    const aisleRect = aisleElement.getBoundingClientRect();\n    const itemRect = itemElement.getBoundingClientRect();\n    const supermarketRect = supermarket.getBoundingClientRect();\n\n    const aisleX = aisleRect.left - supermarketRect.left + (aisleElement.offsetWidth / 2);\n    const aisleY = aisleRect.top - supermarketRect.top + (aisleElement.offsetHeight / 2);\n    const itemX = itemRect.left - supermarketRect.left + (itemElement.offsetWidth / 2);\n    const itemY = itemRect.top - supermarketRect.top + (itemElement.offsetHeight / 2);\n\n    // Determine if the device is a phone or PC\n    const isPhone = window.innerWidth <= 768;  // Consider screens less than or equal to 768px width as phones\n\n    let aislePadding = isPhone ? 140 : 180;  // Default padding for phone or PC\n\n    // Determine the aisle numbers\n    const startingAisleNumber = parseInt(startingAisle);\n    const targetAisleNumber = parseInt(selectedItem.match(/\\d+/)[0]);\n\n    // If moving between aisle 1 and 3, adjust padding for PC and phone\n    if ((startingAisleNumber === 1 && targetAisleNumber === 3) || \n        (startingAisleNumber === 3 && targetAisleNumber === 1)) {\n        aislePadding = isPhone ? 270 : 390;\n    }\n\n    ctx.beginPath();\n    ctx.moveTo(aisleX, aisleY);  // Start at the starting aisle\n\n    // Draw label \"Reader 1\", \"Reader 2\", or \"Reader 3\" based on the aisle\n    ctx.font = '16px Arial';\n    ctx.fillStyle = '#000'; // Text color\n\n    if (startingAisleNumber === 1) {\n        ctx.fillText('Reader 1', aisleX - 20, aisleY - 10);\n    } else if (startingAisleNumber === 2) {\n        ctx.fillText('Reader 2', aisleX - 20, aisleY - 10);\n    } else if (startingAisleNumber === 3) {\n        ctx.fillText('Reader 3', aisleX - 20, aisleY - 10);\n    }\n\n    // If the item is in the same aisle (i.e., similar X coordinates), move straight\n    if (Math.abs(itemX - aisleX) < 98) {\n        // Draw a straight line vertically to the item\n        ctx.lineTo(itemX, itemY);\n    } else {\n        // If the item is not in the same aisle, move around the aisles\n        if (itemX > aisleX) {\n            // Move horizontally to the right\n            ctx.lineTo(aisleX + aislePadding, aisleY); // Horizontal move to the right\n            ctx.lineTo(aisleX + aislePadding, itemY);  // Vertical move down/up\n        } else {\n            // Move horizontally to the left\n            ctx.lineTo(aisleX - aislePadding, aisleY); // Horizontal move to the left\n            ctx.lineTo(aisleX - aislePadding, itemY);  // Vertical move down/up\n        }\n\n        // Finally, move horizontally to the item\n        ctx.lineTo(itemX, itemY);\n    }\n\n    ctx.strokeStyle = '#28a745';  // Green line color\n    ctx.lineWidth = 3;\n    ctx.stroke();\n};\n\n\n\n  const clearPath = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas?.getContext('2d');\n\n    if (!canvas || !ctx) return;\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n  };\n\n  \n  const handleFindItem = () => {\n    if (selectedItem) {\n      const aislePath = `aisle${selectedItem.replace('.', '_')}`;\n      const pathRef = ref(database, aislePath);\n\n      // Set the aisle to 'OFF'\n      set(pathRef, 'OFF').then(() => {\n        // Draw the path after setting the value to 'OFF'\n        drawPath();\n      }).catch((error) => {\n        console.error(\"Error updating Firebase:\", error);\n      });\n    }\n  };\n\n\n  const handleReadStartingAisle = () => {\n    const userPath = userPaths[username];\n    if (userPath) {\n      const rfidRef = ref(database, userPath.rfidReaderPath);\n      onValue(rfidRef, (snapshot) => {\n        const readerData = snapshot.val();\n        if (readerData) {\n          setStartingAisle(readerData);\n          setShowDropdown(false);\n          \n          const pathRef = ref(database, userPath.path);\n          set(pathRef, 'YES');\n        }\n      });\n    }\n  };\n\n  return (\n    <div className=\"App\">\n    {!isLoggedIn && ( // Only show header if not logged in\n    <header className=\"text-center mb-4\" style={{ marginTop: '7%' }}>\n      <img src={`${process.env.PUBLIC_URL}/logo512.png`} alt=\"EasyMart MALL Logo\" style={{ width: '150px' }} />\n      <h1>EasyMart MALL Navigation</h1>\n    </header>\n  )}\n\n      {!isLoggedIn ? (\n        <div className=\"d-flex justify-content-center align-items-center min-vh-100\">\n    <div style={{ maxWidth: '90%', width: '90%', marginTop: window.innerWidth < 768 ? '-90%' : '-30%' }}>\n    <h2 className=\"text-center mb-4\">Login</h2>\n            <form onSubmit={handleLogin}>\n              <div className=\"mb-3\">\n                <label htmlFor=\"login-username\" className=\"form-label\">Username</label>\n                <input type=\"text\" className=\"form-control\" id=\"login-username\" name=\"username\" required />\n              </div>\n              <div className=\"mb-3\">\n                <label htmlFor=\"login-password\" className=\"form-label\">Password</label>\n                <input type=\"password\" className=\"form-control\" id=\"login-password\" name=\"password\" required />\n              </div>\n              <button type=\"submit\" className=\"btn btn-primary w-100\">Login</button>\n            </form>\n          </div>\n        </div>\n      ) : (\n        <div>\n          <button className=\"btn btn-danger\" onClick={handleLogout}>Logout</button>\n          <h2>Welcome, {username}</h2>\n          <h2>Find Your Item</h2>\n          <div>\n            <label htmlFor=\"starting-aisle\">Select Starting Aisle:</label>\n            <div>\n              <input\n                type=\"text\"\n                id=\"starting-aisle\"\n                value={startingAisle}\n                readOnly\n                placeholder=\"Select Starting Aisle\"\n              />\n              <button onClick={handleReadStartingAisle}>Read Starting Aisle</button>\n            </div>\n          </div>\n          <div>\n            <label htmlFor=\"item-selector\">Select Item:</label>\n            <select\n              id=\"item-selector\"\n              value={selectedItem}\n              onChange={(e) => setSelectedItem(e.target.value)}\n            >\n              <option value=\"\">Select an item</option>\n              <option value=\"1.1\">Aisle 1, Apples</option>\n              <option value=\"1.2\">Aisle 1, Bananas</option>\n              <option value=\"1.3\">Aisle 1, Oranges</option>\n              <option value=\"2.1\">Aisle 2, Bread</option>\n              <option value=\"2.2\">Aisle 2, Milk</option>\n              <option value=\"2.3\">Aisle 2, Cheese</option>\n              <option value=\"3.1\">Aisle 3, Shampoo</option>\n              <option value=\"3.2\">Aisle 3, Soap</option>\n              <option value=\"3.3\">Aisle 3, Toothpaste</option>\n            </select>\n\n            <button\n      className=\"btn btn-secondary ms-2\"\n      style={{ height: '27px', padding: '0 10px' }}  // Adjust height and padding\n\n      onClick={() => setSelectedItem('')}\n    >\n      Reset\n    </button>\n          </div>\n          <div id=\"supermarket\" class=\"supermarket\">\n          <div\n              id=\"aisle1\"\n              className=\"aisle\"\n              ref={(el) => (aisleRefs.current['1'] = el)}\n              style={{ backgroundColor: '#f4f4f4', position: 'relative' }}\n            >\n              <div className=\"item\" style={{ top: '20px', left: '20px' }} id=\"item1-1\"></div>\n              <div className=\"item\" style={{ top: '100px', left: '20px' }} id=\"item1-2\"></div>\n              <div className=\"item\" style={{ top: '180px', left: '20px' }} id=\"item1-3\"></div>\n            </div>\n            <div\n              id=\"aisle2\"\n              className=\"aisle\"\n              ref={(el) => (aisleRefs.current['2'] = el)}\n              style={{ backgroundColor: '#f4f4f4', position: 'relative' }}\n            >\n              <div className=\"item\" style={{ top: '20px', left: '20px' }} id=\"item2-1\"></div>\n              <div className=\"item\" style={{ top: '100px', left: '20px' }} id=\"item2-2\"></div>\n              <div className=\"item\" style={{ top: '180px', left: '20px' }} id=\"item2-3\"></div>\n            </div>\n            <div\n              id=\"aisle3\"\n              className=\"aisle\"\n              ref={(el) => (aisleRefs.current['3'] = el)}\n              style={{ backgroundColor: '#f4f4f4', position: 'relative' }}\n            >\n              <div className=\"item\" style={{ top: '20px', left: '20px' }} id=\"item3-1\"></div>\n              <div className=\"item\" style={{ top: '100px', left: '20px' }} id=\"item3-2\"></div>\n              <div className=\"item\" style={{ top: '180px', left: '20px' }} id=\"item3-3\"></div>\n            </div>\n            <canvas ref={canvasRef} width=\"600\" height=\"400\" style={{ position: 'absolute', top: 0, left: 0, pointerEvents: 'none' }}></canvas>\n          </div>\n        </div>\n      )}\n\n\n<style jsx>{`\n        @media only screen and (max-width: 768px) {\n          canvas.canvastest {\n            width: 380px !important;\n          }\n        }\n      `}</style>\n\n\n\n\n\n    </div>\n\n\n\n\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}